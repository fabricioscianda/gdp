<div class="row">
	<!-- Page Header -->
	<page-header></page-header>
	<!-- Alert Modal -->
	<modal-alert></modal-alert>
	<!-- Confirmacion Borrar -->
	<modal-confirm></modal-confirm>
	<!-- Form Nuevo -->
	<div class="row col-sm-11 col-offset-1">
		<!-- Panel -->
		<div class="panel panel-primary">
			<!-- Panel Header -->
			<div class="panel-heading">
				<h4 class="panel-title">
					<a href="" ng-click="colapsarFormulario=!colapsarFormulario">Nueva {{nombreForm}}
						<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': colapsarFormulario, 'glyphicon-chevron-up': !colapsarFormulario}"></i>
					</a>
				</h4>
			</div>
			<!-- Panel Body -->
			<div class="panel-body" collapse="colapsarFormulario">
				<form role="form" name="formAction" ng-init="listarPersonas()">
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<input type="text" class="form-control" id="nombre" name="nombre" ng-model="nueva.nombre" placeholder="Nombre">
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<input type="text" class="form-control" id="apellido" name="apellido" ng-model="nueva.apellido" placeholder="Apellido">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group form-inline">
								<div class="form-group" ng-init="listarTiposDoc()">
									<label class="radio-inline" ng-repeat="tipoDoc in tiposDoc"> 
										<input type="radio" id="tipoDocSel" name="tipoDocSel" value="{{tipoDoc}}" ng-model="$parent.tipoDocSel"> {{tipoDoc.nombre}}
									</label>
								</div>
								<div class="form-group">
									<input type="number" class="form-control" id="numeroDoc" name="numeroDoc" ng-model="nueva.numeroDoc" maxlength="8" min="999999" max="99999999" placeholder="NÃºmero">
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group form-inline">
								<div class="form-group">
									<label for="fechaNac" class="control-label pull-left">Fecha de Nacimiento</label>
								</div>
								<div class="form-group">
									<input type="date" id="fechaNac" name="fechaNac" ng-model="fechaNac"  required />
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group form-inline">
								<div class="form-group">
									<label for="cuil" class="control-label pull-left">CUIL</label>
								</div>
								<div class="form-group">
									<div class="input-group">
										<select class="form-control" ng-options="tipoCuil for tipoCuil in tiposCuil" ng-model="cuilTipoSel"></select>
										<span class="input-group-addon" id="basic-addon1">-</span>
										<input type="number" class="form-control" id="cuil-dni" name="cuil" ng-model="numeroDocCuil" placeholder="DNI" maxlength="8" max="99999999" min="999999" ng-pattern="/0-9/">
										<span class="input-group-addon" id="basic-addon1">-</span>
										<select class="form-control" ng-options="validadorCuil for validadorCuil in validadoresCuil" ng-model="cuilValidadorSel"></select>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="panel panel-primary">
								<div class="panel-heading">
									<h5 class="panel-title">Medios de Contacto</h5>
								</div>
								<div class="panel-body">
									<div class="mediosContacto">
										<table class="table table-hover table-condensed table-striped">
											<thead>
												<tr>
													<td>Medio</td>
													<td>Contacto</td>
													<td></td>
													<td></td>
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat="medio in nuevosMediosContacto | orderBy:['medio']" >
													<td><strong>{{medio.medio.nombre}}</strong></td>
													<td><strong>{{medio.contacto}}</strong></td>
													<td><a href="#/{{urlModulo}}" ng-click="editarMedioDeContacto(medio)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td>
													<td><a href="#/{{urlModulo}}" ng-click="removeMedio(medio)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a></td>
												</tr>
												<tr>
													<td>
														<select class="form-control" ng-options="medio.nombre for medio in mediosContacto" required ng-model="medioSel" ng-init="listarMediosContacto()">
															<option value="">-- Medio de Contacto --</option>
														</select>
													</td>
													<td>
														<div class="form-group">
															<input class="form-control" type="text" placeholder="Contacto" ng-model="nuevoMedio.contacto">
														</div>
													</td>
													<td>
														<div class="text-center">
															<a href="#/{{urlModulo}}" ng-click="addMedio(nuevoMedio)"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
														</div>	
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="panel panel-primary">
								<div class="panel-heading">
									<h5 class="panel-title">Domicilios</h5>
								</div>
								<div class="panel-body">
									<div class="domicilios">
										<table class="table table-hover table-condensed table-striped">
											<thead>
												<tr>
													<td>Actual</td>
													<td>Domicilio</td>
													<td>Localidad</td>
													<td></td>
													<td></td>
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat="domicilio in nuevosDomicilios | orderBy:['actual','domicilio']" >
													<td><span class="text-center" ng-class="{'glyphicon glyphicon-check':domicilio.actual}"></span></td>
													<td><strong>{{domicilio.domicilio}}</strong></td>
													<td><strong>{{domicilio.localidad.nombre}}</strong></td>
													<td><a href="#/{{urlModulo}}" ng-click="editarDomicilio(domicilio)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td>
													<td><a href="#/{{urlModulo}}" ng-click="removeDomicilio(domicilio)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a></td>
												</tr>
												<tr>
													<td>
														<div class="text-center">
															<input type="checkbox" ng-model="nuevoDomicilio.actual">
														</div>
													</td>
													<td>
														<div class="form-group">
															<input class="form-control" type="text" placeholder="Domicilio" ng-model="nuevoDomicilio.domicilio">
														</div>
													</td>
													<td>
														<select class="form-control" ng-options="localidad.nombre for localidad in localidades" required ng-model="localidadSel" ng-init="listarLocalidades()">
															<option value="">-- Localidad --</option>
														</select>
													</td>
													<td>
														<div class="text-center">
															<a href="#/{{urlModulo}}" ng-click="addDomicilio(nuevoDomicilio)"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
			<!-- Panel Footer : Buttons -->
			<div class="panel-footer" ng-show="!colapsarFormulario">
				<button type="submit" class="btn btn-primary" ng-click="guardar(nueva)">Guardar</button>
				<button type="submit" class="btn btn-default pull-right" ng-click="limpiar()">Limpiar</button>
				<button type="submit" class="btn btn-default pull-right" ng-click="cerrarForm()">Cerrar</button>
			</div>
		</div>
	</div>
	<!-- Listado Actuales -->
	<div class="row col-sm-11">
		<!-- Panel -->
		<div class="panel panel-primary">
			<!-- Panel Header -->
			<div class="panel-heading">
				<h4 class="panel-title">{{modulo}} Actuales</h4>
			</div>
			<!-- Listado -->
			<div class="panel-body" ng-init="listar()">
				<table class="table table-hover table-condensed table-striped" ng-show="personas.length!=0">
					<thead>
						<tr>
							<td></td>
							<td></td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="persona in personas | orderBy:['apellido', 'nombre']">
							<td><strong>{{persona.apellido}}</strong></td>
							<td><strong>{{persona.nombre}}</strong></td>
							<td><a href="#/{{urlModulo}}" ng-click="editarElemento(persona)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td>
							<td><a href="#/{{urlModulo}}" ng-click="confirmarBorrar(persona)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a></td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- Panel Footer -->
			<div class="panel-footer">
				<h5 class="panel-title">Total de personas: <strong>{{personas.length}}</strong>.</h5>
			</div>
		</div>
	</div>

</div>